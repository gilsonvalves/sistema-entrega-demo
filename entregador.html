<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Cadastro de Entrega</title>
  <script type="module">
    import { db, ref, push } from './firebase-config.js';

    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("form");
      form.addEventListener("submit", async (e) => {
        e.preventDefault();
        const endereco = document.getElementById("endereco").value;
        const nome = document.getElementById("nome").value;

        const data = new Date().toLocaleString();

        await push(ref(db, "entregas"), {
          endereco,
          nome,
          data,
        });

        alert("Entrega cadastrada com sucesso!");
        form.reset();
      });
    });
  </script>
</head>
<body>
  <h2>Cadastro de Entrega</h2>
  <form id="form">
    <label>Endere√ßo: <input type="text" id="endereco" required></label><br><br>
    <label>Nome do Cliente (opcional): <input type="text" id="nome"></label><br><br>
    <button type="submit">Cadastrar Entrega</button>
  </form>
  <br>
  <a href="entregador.html">Ir para tela do entregador</a>
</body>
</html>
